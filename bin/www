#!/usr/bin/env node

var app     = require('../app')
  , port    = process.env.PORT || 3000
  , server  = require('http').Server(app);

server.listen(port);
server.on('error', onError);
server.on('listening', onListening);

function onError(err) {
  console.log(err, 'App failed to start');
  throw err;
}

function onListening() {
  console.log('App is running at: ', port);
}
